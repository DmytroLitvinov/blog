
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="robots" content="" />

  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,400i,700" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="https://blog.DmytroLitvinov.com/theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="https://blog.DmytroLitvinov.com/theme/pygments/paraiso-dark.min.css">
  <link rel="stylesheet" type="text/css" href="https://blog.DmytroLitvinov.com/theme/font-awesome/css/font-awesome.min.css">

    <link href="https://blog.DmytroLitvinov.com/static/custom.css" rel="stylesheet">

    <link href="https://blog.DmytroLitvinov.com/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="DevBlog with love Atom">


    <link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon">
    <link rel="icon" href="/images/favicon.png" type="image/x-icon">

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-92540730-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#9cb2ce">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#9cb2ce">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Microsoft EDGE -->
    <meta name="msapplication-TileColor" content="#9cb2ce">

<meta name="author" content="Dmytro Litvinov" />
<meta name="description" content="Let&#39;s imagine that you have 2 django apps: article and blog. So first one has model Article as you already guessed. So we need to move our Article model from article app to blog app. Copy your code of Article model from article app to blog app into models.py …" />
<meta name="keywords" content="django, learning">

<meta property="og:site_name" content="DevBlog with love"/>
<meta property="og:title" content="How to move a model between two Django apps"/>
<meta property="og:description" content="Let&#39;s imagine that you have 2 django apps: article and blog. So first one has model Article as you already guessed. So we need to move our Article model from article app to blog app. Copy your code of Article model from article app to blog app into models.py …"/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content="https://blog.DmytroLitvinov.com/2018/03/12/how-to-move-a-model-between-two-django-apps"/>
<meta property="og:type" content="article"/>
<meta property="article:published_time" content="2018-03-12 20:30:00+02:00"/>
<meta property="article:modified_time" content=""/>
<meta property="article:author" content="https://blog.DmytroLitvinov.com/author/dmytro-litvinov.html">
<meta property="article:section" content="Programming, Django"/>
<meta property="article:tag" content="django"/>
<meta property="article:tag" content="learning"/>
<meta property="og:image" content="//github.com/DmytroLitvinov.png">

  <title>DevBlog with love &ndash; How to move a model between two Django apps</title>

<!-- Google Tag Manager -->
<script>
  (function(w,d,s,l,i){
    w[l]=w[l]||[];
    w[l].push({'gtm.start':new Date().getTime(),event:'gtm.js'});
    var f=d.getElementsByTagName(s)[0],j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';
    j.async=true;
    j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;
    f.parentNode.insertBefore(j,f);
  })(window,document,'script','dataLayer','GTM-T2GHTH2');
</script>
<!-- End Google Tag Manager --></head>
<body>
<!-- Google Tag Manager -->
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-T2GHTH2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>
<!-- End Google Tag Manager -->  <aside>
    <div>
      <a href="https://blog.DmytroLitvinov.com">
        <img src="//github.com/DmytroLitvinov.png" alt="Dmytro Litvinov" title="Dmytro Litvinov">
      </a>
      <h1><a href="https://blog.DmytroLitvinov.com">Dmytro Litvinov</a></h1>

<p>Full Stack Python developer</p>
      <nav>
        <ul class="list">
          <li><a href="https://blog.DmytroLitvinov.com/about">About</a></li>
          <li><a href="https://blog.DmytroLitvinov.com/contact">Contact</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-linkedin" href="https://linkedin.com/in/DmytroLitvinov/" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/Dmytro_Litvinov" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="https://github.com/DmytroLitvinov" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-gitlab" href="https://gitlab.com/DmytroLitvinov" target="_blank"><i class="fa fa-gitlab"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>

    <nav>
      <a href="https://blog.DmytroLitvinov.com">    Home
</a>

      <a href="/archives">Archives</a>
      <a href="/categories">Categories</a>
      <a href="/tags">Tags</a>

      <a href="https://blog.DmytroLitvinov.com/feeds/all.atom.xml">    Atom
</a>

    </nav>

<article class="single">
  <header>
      
    <h1 id="how-to-move-a-model-between-two-django-apps">How to move a model between two Django apps</h1>
    <p>
          Posted on Mon 12 March 2018 in <a href="https://blog.DmytroLitvinov.com/category/programming-django.html">Programming, Django</a>


        &#8226; 2 min read
    </p>
  </header>


  <div>
    <p>Let's imagine that you have 2 django apps: <code>article</code> and <code>blog</code>. 
So first one has model <code>Article</code> as you already guessed.
So we need to move our <code>Article</code> model from <code>article</code> app to <code>blog</code> app.</p>
<ul>
<li>Copy your code of <code>Article</code> model from <code>article</code> app to <code>blog</code> app into <code>models.py</code>.</li>
<li>We need to specify database table for our moved model. At our example it is <code>article_article</code>. 
You need to add to your <code>blog.Article</code> model next lines:</li>
</ul>
<div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Meta</span><span class="p">:</span>
    <span class="n">db_table</span> <span class="o">=</span> <span class="s1">&#39;article_article&#39;</span>
</pre></div>


<ul>
<li>
<p>Now you can <code>python manage.py makemigrations blog</code> for getting django migration for creating model or you could get
creation migration from your <code>article</code> app and place it to migrated migration in <code>blog</code> app. If you run above command,
you need to delete this migration after place it into previously migrated migration.</p>
</li>
<li>
<p>Now you need to change all references in your whole project to new new reference of your model.
It can be ForeignKey, import etc.</p>
</li>
<li>
<p>Verify that you do all correctly with command: <code>./manage.py migrate</code>. Nothing should be migrated.
If not - verify previous steps, because we just changed place of your model code, not database table name.</p>
</li>
<li>
<p>Last step will be remove <code>db_table</code> field from <code>class Meta</code> and run next command:</p>
</li>
</ul>
<div class="highlight"><pre><span></span>./manage.py makemigrations blog
./manage.py migrate blog
</pre></div>


<p>After create migration you could see something next operation at migration:</p>
<div class="highlight"><pre><span></span><span class="n">operations</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">migrations</span><span class="o">.</span><span class="n">AlterModelTable</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;blog&#39;</span><span class="p">,</span>
            <span class="n">table</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">]</span>
</pre></div>


<p><code>table=None</code> means it will take the default table-name, which in this case will be <code>blog_article</code>.</p>
<p>This solution was tested with Django 1.11 and Postgres database with ForeignKey relation.</p>
<p>Hope it helps.</p>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="https://blog.DmytroLitvinov.com/tag/django.html">django</a>
      <a href="https://blog.DmytroLitvinov.com/tag/learning.html">learning</a>
    </p>
  </div>

  <div class="center social-share">
    <p>    Like this article? Share it with your friends!
</p>
    <div class="addthis_native_toolbox"></div>
    <div class="addthis_sharing_toolbox"></div>
    <div class="addthis_inline_share_toolbox"></div>
  </div>


    <div class="addthis_relatedposts_inline"></div>


<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dmytrolitvinov-github-io';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>
        Please enable JavaScript to view comments.

</noscript>
<!-- End Disqus -->
</article>

    <footer>
<p>
  &copy;  2018 - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p>    </footer>
  </main>


    <script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-58af06693081c196" async="async"></script>


<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " DevBlog with love ",
  "url" : "https://blog.DmytroLitvinov.com",
  "image": "//github.com/DmytroLitvinov.png",
  "description": "Dmytro Litvinov's Thoughts and Writings"
}
</script>

</body>
</html>